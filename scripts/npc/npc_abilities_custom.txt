	"DOTAAbilities"
	{
		"Version"		"1"

		"phantom_assassin_phantom_strike_datadriven"
		{
			// General
			//-------------------------------------------------------------------------------------------------------------
			"BaseClass"						"ability_datadriven"
			"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
			"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY | DOTA_UNIT_TARGET_TEAM_ENEMY"
			"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
			"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
			"AbilityTextureName"			"phantom_assassin_phantom_strike"
			"CastFilterRejectCaster" 		"1"
		
			// Precache
			//-------------------------------------------------------------------------------------------------------------
			"precache"
			{
				"soundfile"			"soundevents/game_sounds_heroes/game_sounds_phantom_assassin.vsndevts"
				"particle"			"particles/units/heroes/hero_phantom_assassin/phantom_assassin_phantom_strike_end.vpcf"
			}
			
			// Casting
			//-------------------------------------------------------------------------------------------------------------
			"AbilityCastRange"				"1000 1000 1000 1000"
			"AbilityCastPoint"				"0.3 0.3 0.3 0.3"
		
			// Time		
			//-------------------------------------------------------------------------------------------------------------
			"AbilityCooldown"				"14 11 8 5"
		
			// Duration
			//-------------------------------------------------------------------------------------------------------------
			"AbilityDuration"				"3 3 3 3"
		
			// Cost
			//-------------------------------------------------------------------------------------------------------------
			"AbilityManaCost"				"50 50 50 50"
			
			// Special
			//-------------------------------------------------------------------------------------------------------------
			"AbilitySpecial"
			{
				"01"
				{
					"var_type"				"FIELD_INTEGER"
					"bonus_attack_speed"	"130"
				}
				
				"02"
				{
					"var_type"				"FIELD_INTEGER"
					"bonus_max_attack_count"	"4"
				}
				"03"
				{
					"var_type"				"FIELD_INTEGER"
					"tooltip_range"			"1000 1000 1000 1000"
				}
			}
		
			"OnSpellStart"
			{
				"Blink"
				{
					"Target"	"TARGET"
				}
		
				"FireSound"
				{
					"EffectName"		"Hero_PhantomAssassin.Strike.Start"
					"Target"			"CASTER"
				}
		
				"AttachEffect"
				{
					"EffectName"		"particles/units/heroes/hero_phantom_assassin/phantom_assassin_phantom_strike_end.vpcf"
					"EffectAttachType"	"follow_origin"
					"Target"			"CASTER"
				}
		
				"FireSound"
				{
					"EffectName"		"Hero_PhantomAssassin.Strike.End"
					"Target"			"CASTER"
				}
		
				"RunScript"
				{
					"ScriptFile"	"heroes/hero_phantom_assassin/phantom_strike.lua"
					"Function"		"PhantomStrike"
					"phantom_strike_modifier"	"modifier_phantom_strike_datadriven"
				}
			}
		
			"Modifiers"
			{
				"modifier_phantom_strike_datadriven"
				{
					"IsBuff"	"1"
		
					"OnAttackLanded"
					// "%attack_damage" is set to the damage value before mitigation
					{
						"RunScript"
						{
							"ScriptFile"	"heroes/hero_phantom_assassin/phantom_strike.lua"
							"Function"		"PhantomStrikeAttack"
							"phantom_strike_modifier"	"modifier_phantom_strike_datadriven"
						}
					}
		
					"Properties"
					{
						"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%bonus_attack_speed"
					}
				}
			}
		}

		"skeleton_king_hellfire_blast_datadriven"
		{
			"BaseClass"						"ability_datadriven"
			"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
			"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
			"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
			"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
			"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
			"FightRecapLevel"				"1"
			"AbilityTextureName"			"skeleton_king_hellfire_blast"
			
			"AbilityCastRange"				"525"
			"AbilityCastPoint"				"0.35 0.35 0.35 0.35"
		
			"AbilityCooldown"				"8.0 8.0 8.0 8.0"
			"AbilityDamage"					"50 100 150 200"
			"AbilityManaCost"				"140"
			"AbilityModifierSupportValue"	"0.5"
		
			"AbilitySpecial"
			{
				"01"
				{
					"var_type"				"FIELD_INTEGER"
					"blast_speed"			"1000"
				}
				
				"02"
				{
					"var_type"				"FIELD_FLOAT"
					"blast_stun_duration"	"2.0"
				}
				
				"03"
				{
					"var_type"				"FIELD_INTEGER"
					"blast_slow"			"-20"
				}
				
				"04"
				{
					"var_type"				"FIELD_FLOAT"
					"blast_dot_duration"	"4"
				}
				
				"05"
				{
					"var_type"				"FIELD_INTEGER"
					"blast_dot_damage"		"15 30 40 50"
				}
				
				"06"
				{
					"var_type"				"FIELD_FLOAT"
					"tooltip_slow_duration"	"2"
				}
			}
		
			"precache"
			{
				"soundfile"				"soundevents/game_sounds_heroes/game_sounds_skeletonking.vsndevts"
				"particle"				"particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast.vpcf"
				"particle"				"particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast_explosion.vpcf"
				"particle"				"particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast_debuff.vpcf"
				"particle"				"particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast_warmup.vpcf"
			}
		
			"OnAbilityPhaseStart"
			{
				"FireEffect"
				{
					"EffectName"        "particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast_warmup.vpcf"
					"EffectAttachType"  "start_at_customorigin"
					
					"ControlPointEntities"
					{
						"CASTER"		"attach_attack2"
					}
				}
			}
		
			"OnSpellStart"
			{
				"TrackingProjectile"
				{
				    "Target"           	"TARGET"
				    "EffectName"       	"particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast.vpcf"
				    "Dodgeable"        	"1"
				    "ProvidesVision"   	"0"
				    "VisionRadius"     	"0"
				    "MoveSpeed"        	"%blast_speed"
				    "SourceAttachment"  "DOTA_PROJECTILE_ATTACHMENT_ATTACK_2"
				}
		
				"FireSound"
				{
					"EffectName"		"Hero_SkeletonKing.Hellfire_Blast"
					"Target"			"CASTER"
				}
			}
		
			"OnProjectileHitUnit"
			{
				"DeleteOnHit"			"1"
		
				"FireSound"
				{
					"EffectName"	"Hero_SkeletonKing.Hellfire_BlastImpact"
					"Target"		"CASTER"
				}
		
				"Damage"
				{
					"Target"		"TARGET"
					"Type"			"DAMAGE_TYPE_MAGICAL"
					"Damage"		 "%AbilityDamage"
				}
		
				"ApplyModifier"
				{
					"ModifierName"	"modifier_hellfire_blast_stun"
					"Target"		"TARGET"
				}
		
				"ApplyModifier"
				{
					"ModifierName"	"modifier_hellfire_blast_slow"
					"Target"		"TARGET"
				}
		
				"DelayedAction"
				{
					"Delay"			"%blast_stun_duration"
					"Action"
					{
						"ApplyModifier"
						{
							"ModifierName"	"modifier_hellfire_blast_dot"
							"Target"		"TARGET"
						}
					}
				}
				
		
				"FireEffect"
				{
					"EffectName"		"particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast_explosion.vpcf"
					"EffectAttachType"	"follow_origin"
					"Target"			"TARGET"
		
					//CP3 needs to be attached to the target hit
					"ControlPointEntities"
					{
						"TARGET"		"attach_hitloc"
						"TARGET"		"attach_hitloc"
						"TARGET"		"attach_hitloc"
						"TARGET"		"attach_hitloc"
					}
				}
			}
		
			"Modifiers"
			{
				"modifier_hellfire_blast_stun"
				{
					"IsDebuff"			"1"
					"Duration"			"%blast_stun_duration"
					"States"
					{
						"MODIFIER_STATE_STUNNED"	"MODIFIER_STATE_VALUE_ENABLED"
					}
		
					"OverrideAnimation"	"ACT_DOTA_DISABLED"
					"EffectName"		"particles/generic_gameplay/generic_stunned.vpcf"
					"EffectAttachType"	"follow_overhead"
				}
		
				"modifier_hellfire_blast_slow"
				{
					"IsDebuff"			"1"
					"Duration"			"%blast_dot_duration"
		
					"Properties"
					{
						"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"	"%blast_slow"
					}
		
					"EffectName"		"particles/units/heroes/hero_skeletonking/skeletonking_hellfireblast_debuff.vpcf"
					"EffectAttachType"	"follow_origin"
				}
		
				"modifier_hellfire_blast_dot"
				{
					"IsHidden"	"1"
					"Duration"	"%tooltip_slow_duration"
		
					"ThinkInterval"		"1"
					"OnIntervalThink"
					{
						"Damage"
						{
							"Target"	"TARGET"
							"Type"		"DAMAGE_TYPE_MAGICAL"
							"Damage"	"%blast_dot_damage"
						}
					}
				}
			}
		}

		"skeleton_king_vampiric_aura_datadriven"
		{
			"BaseClass"						"ability_datadriven"
			"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
			"AbilityType"					"DOTA_ABILITY_TYPE_BASIC"
			"AbilityTextureName"			"skeleton_king_vampiric_aura"
		
			"AbilityCastPoint"				"0.3 0.3 0.3 0.3"
			"AbilityCooldown"				"3.0 3.0 3.0 3.0"
			"AbilityManaCost"				"25 25 25 25"
		
			"precache"
			{
				"particle"					"particles/units/heroes/hero_skeletonking/wraith_king_vampiric_aura_lifesteal.vpcf"
			}
		
			"AbilitySpecial"
			{
				"01"
				{
					"var_type"				"FIELD_INTEGER"
					"lifesteal_pct"			"60 80 100 120"
				}
				"02"
				{
					"var_type"				"FIELD_FLOAT"
					"duration"				"8.0 8.0 8.0 8.0"
				}
				"03"
				{
					"var_type"				"FIELD_INTEGER"
					"aura_radius"			"900"
				}
			}
		
			"OnSpellStart"
			{
				"ApplyModifier"
				{
					"ModifierName"				"modifier_vampiric_aura_datadriven"
					"Target"					"CASTER"
				}
				"ActOnTargets"
				{
					"Target"
					{
						"Center"  				"CASTER"
						"Radius" 				"%aura_radius"
						"Teams" 				"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
						"Types" 				"DOTA_UNIT_TARGET_BASIC"
					}
				
					"Action"    
					{
						"RunScript"
						{
							"ScriptFile"		"heroes/hero_skeleton_king/vampiric_aura.lua"
							"Function"			"VampiricAura"
							"modifier"			"modifier_vampiric_aura_datadriven"
						}
					}
				}
			}
		
			"Modifiers"
			{
				"modifier_vampiric_aura_datadriven"
				{
					"Duration"	"%duration"
					"IsBuff"	"1"
		
					"EffectName"			"particles/units/heroes/hero_broodmother/broodmother_hunger_buff.vpcf"
					"EffectAttachType"		"follow_origin"
		
					"OnAttackLanded"
					{
						"Lifesteal"
						{
							"Target"		"CASTER"
							"LifestealPercent"	"%lifesteal_pct"
						}
					}
				}
			}
		}
	
		"skeleton_king_mortal_strike_datadriven"
		{
			"BaseClass"				"ability_datadriven"
			"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_PASSIVE"
			"AbilityTextureName"	"skeleton_king_mortal_strike"
		
			"precache"
			{
			"soundfile"   "soundevents/game_sounds_heroes/game_sounds_bounty_hunter.vsndevts"
			"particle"	"particles/units/heroes/hero_bounty_hunter/bounty_hunter_jinda_slow.vpcf"
			"particle"	"particles/units/heroes/hero_bounty_hunter/status_effect_bounty_hunter_jinda_slow.vpcf"
			
			}
		
			"AbilityCooldown"				"11.0 9.0 7.0 5.0"
				
			"AbilitySpecial"
			{
				"01"
				{
					"var_type"				"FIELD_INTEGER"
					"crit_multiplier"		"150 175 200 225"
				}
				"02"
				{
					"var_type"				"FIELD_INTEGER"
					"bonus_movespeed"		"-25 -25 -25 -25"
				}
				"03"
				{
					"var_type"				"FIELD_INTEGER"
					"bonus_attackspeed"		"-25 -25 -25 -25"
				}
				"04"
				{
					"var_type"				"FIELD_FLOAT"
					"duration"				"3.0 3.0 3.0 3.0"
				}
			}
		
			"Modifiers"
			{
		
			"modifier_mortal_strike_datadriven"
			{
				"Passive"	"1"
				"IsHidden"	"1"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE"	"%crit_multiplier"
				}
	
				"OnAttackLanded"
				{
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_mortal_strike_slow_datadriven"
						"Target"	"TARGET"
					}
	
					"FireEffect"
					{
						"EffectName"	"particles/units/heroes/hero_bounty_hunter/bounty_hunter_jinda_slow.vpcf"
						"EffectAttachType"	"attach_hitloc"
						"Target"		"TARGET"
					}
	
					"FireSound"
					{
						"EffectName"	"Hero_SkeletonKing.CriticalStrike"
						"Target"		"TARGET"
					}
	
					"RunScript"
					{
						"ScriptFile"	"scripts/vscripts/heroes/hero_skeleton_king/mortal_strike.lua"	
						"Function"		"MortalStrike"						
					}
				}
			}
	
			"modifier_mortal_strike_slow_datadriven"
			{
				"IsDebuff"	"1"
				"Duration"	"%duration"
				"StatusEffectName"	"particles/units/heroes/hero_bounty_hunter/status_effect_bounty_hunter_jinda_slow.vpcf"
				"StatusEffectPriority"	"3"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%bonus_movespeed"
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%bonus_attackspeed"
				}
			}
		}
	}
}